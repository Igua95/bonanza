!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=a("./src")},{"./src":5}],2:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],3:[function(a,b,c){"use strict";var d={container:"bz-container",hide:"bz-hide",list:"bz-list",item:"bz-list-item",selected:"bz-list-item-selected",loading:"bz-list-loading",loadMore:"bz-list-load-more",noResults:"bz-list-no-results",inputLoading:"bz-loading",match:"bz-text-match"},e={item:function(a){return a},label:function(a){return a},noResults:function(a){return"No results"+(a&&a.search?' for "'+a.search+'"':"")},loadMore:"...",loading:"Loading ..."};b.exports={templates:e,css:d,openOnFocus:!0,closeOnBlur:!0,showLoading:!0,showloadMore:!0,includeAnchors:!1,limit:10,scrollDistance:0,hasMoreItems:function(a){return!!a.length&&a.length===this.limit},getItems:function(a){return a}}},{}],4:[function(a,b,c){"use strict";function d(a,b){b&&(f(a,b)||(a.className=a.className+(a.className?" ":"")+b))}function e(a,b){if(b){var c=new RegExp("\\b"+b+"\\b","g");a.className=a.className.replace(c,"").replace(/  /g," ").trim()}}function f(a,b){var c=a.className.split(" ");return-1!==c.indexOf(b)}b.exports={addClass:d,removeClass:e,hasClass:f}},{}],5:[function(a,b,c){(function(c){"use strict";function d(a,b,c){function d(){return!f.hasClass(t,b.css.hide)}function l(){d()||s.emit("show")}function m(a){return function(c,d){var e=a.filter(function(a){var d=j(b.templates.label,a,!1);return k.queryRegExp(c.search).test(d)}).slice(c.offset,c.offset+c.limit);d(null,e)}}function n(a){var b=t.scrollTop+t.clientHeight-t.scrollHeight===0,c=0===t.scrollTop,d=a.wheelDelta;return b&&1>d||c&&d>1?(a.stopPropagation(),a.preventDefault(),a.returnValue=!1,!1):void 0}if(!a)throw new Error("An element is required to initialize bonanza");if(c||(c=b,b={}),!c)throw new Error("A source is required to initialize bonanza");Array.isArray(c)&&(c=m(c)),b.templates&&(b.templates.item&&void 0===b.templates.label&&(b.templates.label=b.templates.item),b.templates=k.merge(g.templates,b.templates)),b.css&&(b.css=k.merge(g.css,b.css)),b=k.merge(g,b);var o,p,q,r,s=new e,t=document.createElement("div");t.className=b.css.container||"",a.parentNode.appendChild(t),f.addClass(t,b.css.hide),s.container=t,s.input=a,s.options=b;var u=i.create(s,b);return t.addEventListener("scroll",function(a){var c=a.target.scrollTop+a.target.clientHeight-a.target.scrollHeight;c>=-1*b.scrollDistance&&u.hasMoreItems()&&q&&s.emit("scrollbottom")}),t.onmousewheel=n,a.addEventListener("focus",function(){s.emit("open")}),a.addEventListener("blur",function(a){b.closeOnBlur&&s.emit("close")}),a.addEventListener("keyup",function(c){var d=h[c.keyCode];d?"enter"!==d&&(r=null):s.emit("search",{offset:0,limit:b.limit,search:a.value})}),a.addEventListener("keydown",function(c){var e,f,g=h[c.keyCode];e=o?u.items.indexOf(o):0,"up"===g?(f=(e||0)-1,-1===f&&u.hasMoreItems()?f=0:0>f&&(f=u.items.length-1),u.items.length&&s.emit("select",u.items[f].data)):"down"===g?(f=o?e+1:0,!u.hasMoreItems()&&f>u.items.length-1&&(f=0),(u.hasMoreItems()&&f>=u.items.length-2||!u.items.length)&&s.emit("search",{offset:u.items.length,limit:b.limit,search:q?q.searchTerm:a.value}),u.items[f]&&s.emit("select",u.items[f].data)):"enter"===g&&d()?(o=o||u.items[0],o&&s.emit("change",o.data)):"escape"===g&&d()?s.emit("cancel"):r=null}),s.on("scrollbottom",function(){s.emit("search",{offset:u.items.length,limit:b.limit,search:q.searchTerm})}),s.on("focus",function(){s.emit("open")}),s.on("open",function(){b.openOnFocus&&(setTimeout(a.setSelectionRange.bind(a,0,a.value.length),0),r||s.emit("search",{offset:0,limit:b.limit,search:a.value}))}),s.on("show",function(){f.removeClass(t,b.css.hide),t.style.top=a.offsetTop+a.offsetHeight+"px",t.style.left=a.offsetLeft+"px"}),s.on("close",function(){u.clean(),u.hideLoading(),f.removeClass(a,b.css.inputLoading),f.addClass(t,b.css.hide),o=null,p=null}),s.on("change",function(c){r=c,c&&(a.value=j(b.templates.label,c,!1)),q=null,s.emit("close")}),s.on("select",function(c){if(o&&f.removeClass(o.element,b.css.selected),o=u.getByData(c)){a.value=j(b.templates.label,c,!1),f.addClass(o.element,b.css.selected);var d=o.element.offsetTop,e=o.element.offsetTop+o.element.offsetHeight;e>t.clientHeight+t.scrollTop?t.scrollTop=o.element.offsetTop-t.clientHeight+o.element.offsetHeight:d<t.scrollTop&&(t.scrollTop=o.element.offsetTop)}}),s.on("cancel",function(){q&&(a.value=q.searchTerm,r=q.oldValue,q=null),s.emit("close")}),s.on("search",function(d){p&&p.search===d.search&&p.offset===d.offset||(0===d.offset&&(q={oldValue:r,searchTerm:d.search}),b.showLoading&&(u.showLoading(d),f.addClass(a,b.css.inputLoading)),l(),p=d,c(d,function(c,e){return c?void s.emit("error",c):void(p===d&&(u.hideLoading(),f.removeClass(a,b.css.inputLoading),s.emit("success",e,d)))}))}),s.on("success",function(a,c){var d=b.getItems(a);0===c.offset&&u.clean(),d&&(l(),d.forEach(function(a){u.push(a,c.search)}),b.hasMoreItems(a)?u.showLoadMore(a):u.items.length||u.showNoResults(c))}),s}var e=a("events").EventEmitter,f=a("./dom.js"),g=a("./defaults.js"),h=a("./keys.js"),i=a("./list.js"),j=a("./render.js"),k=a("./util.js");d.defaults=g,c.bonanza=d,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./defaults.js":3,"./dom.js":4,"./keys.js":6,"./list.js":7,"./render.js":8,"./util.js":9,events:2}],6:[function(a,b,c){"use strict";b.exports={38:"up",40:"down",13:"enter",27:"escape"}},{}],7:[function(a,b,c){"use strict";function d(a,b){function c(c,e){var f,h=q(b.templates.item,b.css.item,c),i={data:c,element:h};e&&(f=g.queryRegExp(e),h.innerHTML=h.innerHTML.replace(f,d)),b.includeAnchors&&(h.innerHTML="<a>"+h.innerHTML+"</a>"),h.addEventListener("mousedown",function(b){a.emit("change",c)}),k(),u.appendChild(h),w.push(i)}function d(a){return"<span"+(b.css.match?' class="'+b.css.match+'"':"")+">"+a+"</span>"}function h(){w.splice(0,w.length),u.innerHTML="",s=null,t=null,v=null}function i(a){return w.filter(function(b){return b.data===a})[0]}function j(a){return m(),o(),t||(t=q(b.templates.loading,b.css.loading,a)),t}function k(){t&&(u.removeChild(t),t=null)}function l(a){return k(),s||(s=r(b.templates.loadMore,b.css.loadMore,a)),b.showLoadMore||e.addClass(s,b.css.hide),s}function m(){s&&(u.removeChild(s),s=null)}function n(a){k(),s||(v=q(b.templates.noResults,b.css.noResults,a))}function o(){v&&(u.removeChild(v),v=null)}function p(){return!(!s&&!t)}function q(a,b,c){var d=document.createElement("li");return d.innerHTML=f(a,c,!0),d.className=b||"",u.appendChild(d),d}function r(b,c,d){var e=document.createElement("li"),g=document.createElement("a");return g.innerHTML=f(b,d,!0),g.addEventListener("mousedown",function(){a.emit("scrollbottom")}),e.className=c||"",e.appendChild(g),u.appendChild(e),e}var s,t,u,v,w=[];return a.container.innerHTML="<ul"+(b.css.list?' class="'+b.css.list+'"':"")+"></ul>",u=a.container.children[0],{push:c,clean:h,items:w,getByData:i,showLoading:j,hideLoading:k,showLoadMore:l,showNoResults:n,hasMoreItems:p}}var e=a("./dom.js"),f=a("./render.js"),g=a("./util.js");b.exports={create:d}},{"./dom.js":4,"./render.js":8,"./util.js":9}],8:[function(a,b,c){"use strict";function d(a,b,c){var d;return d="function"==typeof a?a(b):a,c&&(d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),d}b.exports=d},{}],9:[function(a,b,c){"use strict";function d(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}function e(a){return new RegExp(f(a),"ig")}function f(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}b.exports={merge:d,queryRegExp:e}},{}]},{},[1]);